<link rel="import" href="../components/polymer/polymer-element.html">
<link rel="import" href="../components/app-localize-behavior/app-localize-behavior.html">
<link rel="import" href="./status-bar.html">
<link rel="import" href="./minor-heading.html">
<link rel="import" href="./modal.html">
<link rel="import" href="./login-card.html">

<dom-module id="login-game">
  <template>
    <style>

    </style>
    <status-bar
      title="{{localize('title')}}"
      score="{{localize('score')}}"
      lefted="{{localize('lefted')}}"
      hasname="{{handleCheckName()}}"
      total="{{total}}"
      point="{{point}}"
      matched="{{matched}}"
      purpose="select"
      cards="{{cards}}"
      on-modal="handleModal"
      fullscreen="{{localize('fullscreen')}}"
      ></status-bar>
    <toycode-modal
      id="retryModal"
      purpose="retry"
      headertext="{{localize('retryHead')}}"
      btmtext="{{localize('retryBtm')}}"
      retrybtn="{{localize('retrybtn')}}"
      ></toycode-modal>
    <toycode-modal
      id="successModal"
      purpose="nextStep"
      headertext="{{localize('successHead')}}"
      btmtext="{{localize('successBtm')}}"
      nextbtn="{{localize('nextbtn')}}"
      ></toycode-modal>
    <toycode-modal
      id="logOutModal"
      headertext="{{localize('logoutHead')}}"
      btmtext="{{localize('logoutBtm')}}"
      yesbtn="{{localize('yesbtn')}}"
      nobtn="{{localize('nobtn')}}"
      purpose="logout"
      ></toycode-modal>
    <toycode-modal
      id="previousModal"
      headertext="{{localize('previousHead')}}"
      btmtext="{{localize('previousBtm')}}"
      yesbtn="{{localize('yesbtn')}}"
      nobtn="{{localize('nobtn')}}"
      purpose="previous"
      ></toycode-modal>
    <toycode-modal
      id="finalStageModal"
      headertext="{{localize('finalStageHead')}}"
      btmtext="{{localize('finalStageBtm')}}"
      finalbtn="{{localize('finalbtn')}}"
      purpose="finalStage"
      nextlink="{{nextlink}}"
      ></toycode-modal>
    <div class="container">
      <login-card name="윌리엄" level="{{level}}" image="03"/>

    </div>
  </template>
  <script>
    class LoginGame extends Polymer.mixinBehaviors([Polymer.AppLocalizeBehavior], Polymer.Element) {
      static get is() { return 'login-game'; }
      connectedCallback() {
        super.connectedCallback();
      }
      static get properties() {
        return {
          language: {
            value: "ko"
          }
        }
      }
      ready(){
        // super.ready()가 없으면 그려지지 않음
        super.ready();
        // this.set('clicked', 0)
        // this.set('total', 0)
        // this.set('stage', 1)
      }
      reset(){
        // this.set('clicked', 0)
        // this.set('total', 0)
        // this.set('point', this.point+5)
        // this.set('stage', this.stage+1)
        // d3.select(this.shadowRoot).select(".container").selectAll('div').remove()
        // this.setData(this.data, this.manifest)
      }
      setData(data, manifest){

        let { level, images } = manifest, imageList = [];
        this.set('level', level)
        debugger
        for(let i = 1; i < images+1; i++) {
          i = i.toString()
          let length = i.length;
          if(length <= 1) {
            i = `0${i}`
          }
          imageList.push(i)
        }
        console.log(imageList);


      }
      handleClickCard(d, i){

      }
      handleSubmit(){

      }
    }
    window.customElements.define(LoginGame.is, LoginGame);
  </script>
</dom-module>
