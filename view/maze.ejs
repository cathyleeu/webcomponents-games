<link rel="stylesheet" href="/css/maze.css">
<!-- Navigation -->
<nav id="navbarMaze" class="navbar navbar-default">
    <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">KIDSTHINKING</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="hidden">
                    <a href="/"></a>
                </li>
                <li id="fullScreen">
                    <a><i class="fa fa-arrows-alt"></i><span>전체화면</span></a>
                </li>
                <li id="runTutorial" class="hidden">
                    <a href="#"><i class="fa fa-question-circle"></i><span data-msg="tutorial">설명 다시보기</span></a>
                </li>
                <li id="playstop" class="hidden">
                    <a href="#"><i class="fa fa-play"></i> <span data-msg="bgm">배경음악 재생</span></a>
                </li>
                <!--li class="page-scroll">
                    <a href="#about">문제 만들기</a>
                </li>
                <li class="page-scroll">
                    <a href="#contact">문의</a>
                </li-->
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container-fluid -->
</nav>

<div id="maze-container" class="<%= mazeType %>">
  <div class="sidebar text-center">
    <canvas id="display"></canvas>
    <div class="bottom-row">
      <div id="scoreBox" style="display:none">
        <div class="food"></div> × <span class="score">0</span>
      </div>
      <!--a id="showCode" href="#" class="btn btn-lg btn-outline">
        <i class="fa fa-file-text"></i> 코드 보기
      </a-->
      <a id="runCode" href="#" class="btn btn-lg btn-outline" style="display:none">
        <div class="start">
          <i class="fa fa-play"></i> <span data-msg="start">시작</span>
        </div>
        <div class="reset" style="display:none">
          <i class="fa fa-refresh"></i> <span data-msg="reset">처음상태로</span>
        </div>
      </a>
    </div>
  </div>
  <div class="workspace">
    <div id="blocklyDiv" style="height: 100%; width: 100%;"></div>
    <div id="virtualKeypad">
      <div class="key up" data-direct="u"></div>
      <div class="key down" data-direct="d"></div>
      <div class="key left" data-direct="l"></div>
      <div class="key right" data-direct="r"></div>
    </div>
  </div>
</div>

<div id="modal" class="modal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" tabindex="0"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title"><span data-msg="kidscoding">키즈씽킹</span></h4>
      </div>
      <div class="modal-body">
        <div class="modal-msg-box">
          <img class="modal-character" src="" />
          <div class="modal-div">
            <span class="modal-msg"></span>
          </div>
        </div>
        <video autoplay controls>
          <source src="" type="video/mp4">
          Your browser does not support HTML5 video.
        </video>
        <div class="modal-select">
          <div><span data-msg="select_character">캐릭터를 선택해 보세요.</span></div>
          <div style="text-align: center">
            <div>
              <img class="modal-character1" src="" style="display:inline-block;float:none" />
              <button type="button" class="character1-modal btn btn-default" tabindex="0" > <span data-msg="select">선택</span></button>
            </div>
            <div>
              <img class="modal-character2" src="" style="display:inline-block;float:none" />
              <button type="button" class="character2-modal btn btn-default" tabindex="0"> <span data-msg="select">선택</span></button>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="close-modal btn btn-default" data-dismiss="modal" tabindex="0"><i class="fa fa-times-circle-o"></i> <span data-msg="close">닫기</span></button>
        <button type="button" class="reset-maze btn btn-default" data-dismiss="modal" tabindex="0"><i class="fa fa-repeat"></i> <span data-msg="retry">다시 해보기</span></button>
        <button type="button" class="go-next btn btn-primary" data-dismiss="modal" tabindex="0"><span data-msg="next_stage">다음 단계로 이동</span> <i class="fa fa-chevron-right"></i></button>
        <button type="button" class="tutorial btn btn-primary" tabindex="0"><span data-msg="next">다음</span> <i class="fa fa-chevron-right"></i></button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<script src="/components/page/page.js"></script>
<% if(mazeType == "horizontal") { %>
<script src="/scratch-blocks/blockly_compressed_horizontal.js"></script>
<script src="/scratch-blocks/blocks_compressed.js"></script>
<script src="/scratch-blocks/msg/js/en.js"></script>
<% } else { %>
<script src="/GoogleBlockly/blockly_compressed.js"></script>
<script src="/GoogleBlockly/blocks_compressed.js"></script>
<script src="/GoogleBlockly/javascript_compressed.js"></script>
<script src="/GoogleBlockly/ko.js"></script>
<% } %>
<script src="/components/EaselJS/lib/easeljs-0.8.2.min.js"></script>
<script src="/components/PreloadJS/lib/preloadjs-0.6.2.min.js"></script>
<script src="/components/SoundJS/lib/soundjs-0.6.2.min.js"></script>
<script src="/components/TweenJS/lib/tweenjs-0.6.2.min.js"></script>
<script src="/js/kidscoding.js"></script>
<script src="/js/actions.js"></script>
<script src="/js/blocks.js"></script>
<script src="/js/tileFactory.js"></script>
<script src="/js/maze.js"></script>
